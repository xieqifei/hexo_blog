---
title: 移动运营商过滤外网流量和解决办法
top: false
cover: false
toc: true
mathjax: false
date: 2020-06-14 14:22:09
password:
summary: 使用ssr、v2ray等代理软件，进行外网访问时，能看到，移动网络在访问过程中，表现非常差。。本文对移动网络的系列问题展开讨论，并提出一些建议。
tags: 移动网络
categories: 其他
---

**移动在哪些方面对用户访问外网进行了限制**？

- 国内过滤掉海外站点的http请求。

我们最常使用的https协议是由http和tls协议构成。通常访问一个https网站，第一步是，向目标网站比如youtube.com发起一个http明文请求，要求建立连接，之后传递数据才由tls协议进行加密。。如果只是单纯的使用浏览器代理，发送到youtube的http请求将被移动网络过滤掉，从而无法建立连接。

不过，ssr、v2ray在使用时，已经将http请求进行了加密转发到ssr、v2ray服务端。因此http请求是由ssr服务端在外网发起的，不用担心移动过滤http请求。

- 国内外网络边界上对无特征的tcp流量限流降速

ssr和v2ray使用了加密和混淆协议，这些协议保证了它们服务端和客户端之间传递的数据无法被解密。移动在这方面，直接对这类没有特征的tcp流量进行丢包，也就导致了，移动用户访问外网速度极慢。

- 国内外网络边界上对tls协议的tcp流量按优先级放行

tls协议流量在出国流量中是海量的，我们访问普通海外网站的时，也包含了大量的tls流量。因此，移动不能对这类流量进行限流降速，而是对那些优先级比较低的用户访问外网进行限制，在高峰时段，可能访问外网速度奇慢。这个问题可以直接花钱解决。

**如何解决移动网络访问外网限制？**

- 更换电信或联通网络。

> 广电也很坑，跟移动差不多

- 使用v2ray+ws+tls方案，即将翻墙流量伪装为普通的https流量。如果你的移动网络出国优先级比较低，高峰时段也会很拥挤。这时候，就取决于你的外网服务器了。外网服务器使用cn2gia自然就不会拥挤了。
- 如果你买不起一个cn2gia线路，试试在国内部署一个中转服务器，阿里云头年90块（学生价也有优惠）。在这个路由器上部署一个stunnel，把ssr、v2ray的代理请求转发到国内服务器，然后国内服务器发送至国外服务器。

这个方案，可以解决ssr不带tls协议的缺点，同时，即便外网服务器不是cn2gia，你用的也不是电信联通，都没关系。阿里云服务器出国会走电信，而且优先级高，所以即便是高峰时期，网速也不会有影响。

然而，受到国内带宽价格影响。阿里云90一年的服务器，带宽仅为5Mpbs，所以下载速度也就在900kB/s左右。不过看1080P的youtube没有问题。